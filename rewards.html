<!DOCTYPE html>
<html lang="en">
<head>
    <title>Rewards - Momo Sushi</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="rewards.css">
</head>

<body>

    <!-- Navigation -->
    <nav class="top-nav">
        <div class="logo"><a href="index.html">Momo Sushi</a></div>
        <div class="nav-links">
          <a href="./menu.html">Menu</a>
          <a href="./reservations.html">Reserve</a>
          <a href="./reviews.html">Reviews</a>
          <a href="./contact.html">Contact</a>
          <a href="./aboutus.html">About</a>
          <a href="login.html" id="main-auth-link">Login</a>
          <div class="dropdown">
            <div class="menu-toggle">☰</div>
            <div class="dropdown-content">
              <a href="./profile.html" id="userProfileStatus">Not signed in</a>
              <a href="./menu.html">Menu</a>
              <a href="./menu.html">Order Now</a>
              <a href="./deals.html">Deals</a>
              <a href="./rewards.html">Rewards</a>
              <a href="./reservations.html">Reservation</a>
              <a href="./reviews.html">Reviews</a>
              <a href="./contact.html">Contact</a>
              <a href="./aboutus.html">About</a>
              <a href="login.html" id="dropdown-auth-link">Login</a>
            </div>
          </div>
        </div>
      </nav>

<!-- Section 1: Rewards Introduction -->
<section class="section-1">
    <div class="crab-logo">
        <img src="pictures/logo.png" alt="Crab Logo" style="width: 100%; height: 100%; object-fit: contain;">
    </div>
    <div class="about-content">
        <h2>Momo Rewards</h2>
        <p>Earn delicious perks with every bite! Join our Momo Sushi Rewards program and unlock exclusive offers, discounts, and free menu items just for being a loyal guest.</p>
        <p>Collect points every time you order, and redeem them for special treats. Whether you're dining in, ordering online, or grabbing takeout, you’ll always be rewarded.</p>
        <p>Sign up for an account to start earning and tracking your points today!</p>
    </div>
</section>

<!-- Section 2: Rewards Tiers -->
<section class="section-2">
    <h3>Reward Tiers</h3>

    <div class="tier">
        <div class="tier-heading">Bronze — 20 to 40 Points</div>
        <div class="tier-description">
            Receive 5% off your next order. It’s our small way of saying thanks for coming back!
        </div>
    </div>

    <div class="tier">
        <div class="tier-heading">Silver — 41 to 60 Points</div>
        <div class="tier-description">
            Enjoy a free miso soup and 10% off your entire order. You’re one of our favorites!
        </div>
    </div>

    <div class="tier">
        <div class="tier-heading">Gold — 61+ Points</div>
        <div class="tier-description">
            Treat yourself to a free roll of your choice and take 15% off your full meal. You've reached the top!
        </div>
    </div>

    <p>Points are automatically tracked when you place orders while logged into your Momo account. The more you order, the more you earn!</p>
</section>

<!-- Chat and Cart Buttons -->
<div class="action-buttons">
    <button class="action-button">Chat</button>
    <button class="action-button">Cart</button>
</div>

<script>
    document.querySelector('.menu-toggle')?.addEventListener('click', function() {
        document.querySelector('.dropdown')?.classList.toggle('active');
    });

    window.addEventListener('click', function(event) {
        if (!event.target.matches('.menu-toggle')) {
            const dropdown = document.querySelector('.dropdown');
            if (dropdown?.classList.contains('active')) {
                dropdown.classList.remove('active');
            }
        }
    });

    document.getElementById('logout-button')?.addEventListener('click', function(e) {
        e.preventDefault();
        window.location.href = 'login.html';
    });

    document.getElementById('dropdown-logout')?.addEventListener('click', function(e) {
        e.preventDefault();
        window.location.href = 'login.html';
    });
</script>

<script type="module">
    import { auth } from './FirebaseConfig.js';
    import {
      onAuthStateChanged,
      signOut
    } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js";

    onAuthStateChanged(auth, (user) => {
      const mainAuthLink = document.getElementById("main-auth-link");
      const dropdownAuthLink = document.getElementById("dropdown-auth-link");
      const profileLink = document.getElementById("userProfileStatus");

      if (user) {
        mainAuthLink.textContent = "Logout";
        mainAuthLink.href = "#";
        mainAuthLink.onclick = handleLogout;

        dropdownAuthLink.textContent = "Logout";
        dropdownAuthLink.href = "#";
        dropdownAuthLink.onclick = handleLogout;

        profileLink.textContent = user.displayName || user.email;
        profileLink.href = "./account.html";
      } else {
        mainAuthLink.textContent = "Login";
        mainAuthLink.href = "./login.html";
        mainAuthLink.onclick = null;

        dropdownAuthLink.textContent = "Login";
        dropdownAuthLink.href = "./login.html";
        dropdownAuthLink.onclick = null;

        profileLink.textContent = "Not signed in";
        profileLink.href = "./login.html";
      }
    });

    function handleLogout(e) {
      e.preventDefault();
      signOut(auth).then(() => {
        window.location.href = "login.html";
      });
    }
  </script>

  <!-- Dropdown Toggle Logic -->
  <script>
    document.querySelector(".menu-toggle").addEventListener("click", function () {
      document.querySelector(".dropdown").classList.toggle("active");
    });

    window.addEventListener("click", function (event) {
      if (!event.target.matches(".menu-toggle")) {
        const dropdown = document.querySelector(".dropdown");
        if (dropdown.classList.contains("active")) {
          dropdown.classList.remove("active");
        }
      }
    });
  </script>
<footer class="site-footer">
    <div class="footer-container">
      <div class="footer-logo">
        <a href="index.html">Momo Sushi</a>
      </div>
      <div class="footer-links">
        <a href="menu.html">Menu</a>
        <a href="reservations.html">Reserve</a>
        <a href="contact.html">Contact</a>
        <a href="reviews.html">Reviews</a>
        <a href="aboutus.html">About</a>
      </div>
      <p class="footer-note">© 2025 Momo Sushi · All rights reserved</p>
    </div>
  </footer>
  
</body>
</html>
